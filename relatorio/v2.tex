\chapter{Segunda versão}

A segunda versão do algoritmo é bastante semelhante com a
primeira, sendo a principal diferença o modo de como as
arestas são "removidas". Enquanto que a primeira versão
fazia uma cópia do grafo e removia diretamente as arestas, a
segunda versão apenas guarda o \cinline{inDegree} de cada
vértice num array, e depois decrementa o valor presente
nesse array. Como tal, as conclusões a tirar quanto à
segunda versão serão também elas bastante semelhantes com as
conclusões da primeira versão.


\section{Análise Informal}
Para a análise informal, realizaremos as experiências
que realizamos na primeira versão, de modo a podermos
facilmente comparar os resultados obtidos.

\begin{listing}[H]
	\centering
	\begin{minted}{text}
                    Verts	Edges	     Cmps	    Iters
1024 vértices:     527875	 1024	   527875	   528899
2048 vértices:    2104323	 2048	  2104323	  2106371
4096 vértices:    8402947	 4096	  8402947	  8407043
8192 vértices:   33583107	 8192	 33583107	 33591299
16384 vértices: 134275075	16384	134275075	134291459
  \end{minted}
	\caption{Resultados da primeira experiência utilizando o segundo algoritmo}
	\label{2-1}
\end{listing}

\begin{listing}[H]
	\centering
	\begin{minted}{text}
                    Verts	Edges	     Cmps	     Iters
1024 vértices:     527875	 2048	   527875	    529921
2048 vértices:    2104323	 4094	  2104323	   2108417
4096 vértices:    8402947	 8190	  8402947	   8411137
8192 vértices:   33583107	16382	 33583107	  33599489
16384 vértices: 134275075	32766	134275075	 134307841
  \end{minted}
	\caption{Resultados da segunda experiência utilizando o segundo algoritmo}
	\label{2-2}
\end{listing}

Comparando os resultados das listagem \ref{2-1} com \ref{1-2} e da \ref{2-2} com
\ref{1-3}, podemos concluir que de facto a performance dos algoritmos nas
métricas selecionadas é bastante semelhante.

Uma vez mais, ao calcular o quociente de $T(2N)$ por $T(N)$, voltamos a obter
aproximadamente 4, resultando numa complexidade quadrática para o algoritmo,
onde o número de arestas presente no grafo tem impacto no número de iterações
realizadas, mas não no número de vértices visitados.

\section{Análise Formal}

O segundo algoritmo tem o mesmo processo da primeira versão,
que consiste em enquanto for possível selecionar um vértice
não marcado com \cinline{inDegree} igual a 0, e iterar as
arestas que desse vértice saem. Como tal, o melhor e pior
caso para este segundo algoritmo são iguais aos do primeiro
algoritmo.

Como tal, podemos afirmar que o melhor caso é $B(V, E) = \norm{V}$,
e o pior caso é $W(V,E) = \norm{V} \cdot \left(\norm{V} + \norm{E}\right)$,
sendo $V$ o conjunto de vértices do grafo e $E$ o conjunto de arestas.
